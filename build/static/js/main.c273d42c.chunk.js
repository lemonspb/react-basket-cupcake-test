(window["webpackJsonptest-cupcake"]=window["webpackJsonptest-cupcake"]||[]).push([[0],{219:function(e,t,a){e.exports=a(391)},224:function(e,t,a){},226:function(e,t,a){},389:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),o=(a(224),a(124)),u=a.n(o),m=a(191),i=a(30),s=(a(226),a(398)),E=a(210),d=a(405),p=a(403),f=a(211);var b=function(e){var t=e.detail,a=e.addBasket,l=e.openModal,c=e.closeModal,o=Object(n.useState)(1),u=Object(i.a)(o,2),m=u[0],b=u[1];return r.a.createElement("div",{className:"modal"},r.a.createElement(s.a,{open:l,size:"tiny",closeIcon:!0},r.a.createElement(s.a.Header,null,"More Details"),r.a.createElement(s.a.Content,{image:!0},r.a.createElement(E.a,{wrapped:!0,size:"medium",src:t.image}),r.a.createElement(s.a.Description,null,r.a.createElement(d.a,null,t.title),r.a.createElement("p",null,t.subtitle),r.a.createElement(s.a.Actions,null,r.a.createElement("div",null,"price:",t.price,"$ "),r.a.createElement("span",null,m,"X",t.price),r.a.createElement(f.a,{min:1,count:m,onCountChange:function(e){return b(e)}}),r.a.createElement(p.a,{onClick:function(){a(t.isbn13,t.title,t.price,m)}},"Add Basket")))),r.a.createElement(s.a.Actions,null,r.a.createElement(p.a,{color:"red",onClick:function(){c(!1)}},"Close"))))},k=a(400),g=function(e){var t=e.removeBasketItem,a=e.basketItem;return r.a.createElement(k.a,{celled:!0},r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Row,null,r.a.createElement(k.a.HeaderCell,null,"Name"),r.a.createElement(k.a.HeaderCell,null,"Price"),r.a.createElement(k.a.HeaderCell,null,"Count"),r.a.createElement(k.a.HeaderCell,null,"Delete item"))),r.a.createElement(k.a.Body,null,Object.values(a).map((function(e){var a=e.name,n=e.count,l=e.price,c=e.id;return r.a.createElement(k.a.Row,{key:c},r.a.createElement(k.a.Cell,null,a),r.a.createElement(k.a.Cell,null,l,"$"),r.a.createElement(k.a.Cell,null,n),r.a.createElement(k.a.Cell,null,r.a.createElement(p.a,{onClick:function(){t(c)}},"Delete")))}))))},O=a(63),v=a(34),j=a(396),C=a(397),I=a(404),B=a(33),h=a(91),w=function(e){var t=e.basketCounter;return r.a.createElement(I.a,null,r.a.createElement(I.a.Item,{position:"left"},r.a.createElement(O.b,{to:"/"},r.a.createElement(d.a,null,"Book shop ",r.a.createElement(B.a,{name:"book"})," "))),r.a.createElement(I.a.Item,{position:"right"},r.a.createElement(h.a,null,r.a.createElement(O.b,{to:"/basket/"},r.a.createElement(B.a,{name:"shop"}),r.a.createElement("span",{className:"counter"},t)))))},S=a(401),y=a(402),N=(a(389),function(e){var t=e.name,a=e.image,n=e.price,l=(e.getIndex,e.index),c=e.getIdBook;return r.a.createElement(y.a,{className:"card-item",onClick:function(){c(l)}},r.a.createElement(E.a,{src:a,wrapped:!0,ui:!1}),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Header,null,t)),r.a.createElement(y.a.Content,{extra:!0},"price:",n,"$"))}),x=function(e){var t=e.cardInfo,a=e.getIdBook;return r.a.createElement(S.a,null,t.map((function(e,t){return r.a.createElement(S.a.Item,null,r.a.createElement(N,{key:e.isbn13,name:e.title,price:e.price,image:e.image,index:t,getIdBook:a})," ")})))};var H=function(){var e=JSON.parse(localStorage.getItem("storageBasket"))||{},t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),E=s[0],d=s[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),k=f[0],I=f[1],B=Object(n.useState)(!0),h=Object(i.a)(B,2),S=h[0],y=h[1],N=Object(n.useState)(e),H=Object(i.a)(N,2),J=H[0],M=H[1],D=Object(n.useState)(Object.getOwnPropertyNames(e).length),P=Object(i.a)(D,2),A=P[0],$=P[1];Object(n.useEffect)((function(){z()}),[]);var z=function(){fetch("".concat("https://5d22b7fd4e05c600146ef4dd.mockapi.io/cupcake/books")).then(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.json();case 4:a=e.sent,d(a.books),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};function R(e){I(!0);var t=E.filter((function(t,a,n){if(a===e)return t}));c(t[0])}function F(e){var t=JSON.parse(localStorage.getItem("storageBasket"))||{};delete t[e],localStorage.setItem("storageBasket",JSON.stringify(t)),M(t),$(Object.getOwnPropertyNames(t).length),console.log(t)}return r.a.createElement(O.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{active:S,block:"centered"}),r.a.createElement(w,{basketCounter:A}),r.a.createElement(C.a,null,r.a.createElement(v.a,{path:"/",exact:!0,render:function(){return r.a.createElement(x,{cardInfo:E,getIdBook:R})}}),r.a.createElement(b,{detail:l,addBasket:function(t,a,n,r){e[t]={name:a,price:n,count:r,id:t},localStorage.setItem("storageBasket",JSON.stringify(e)),$(Object.getOwnPropertyNames(e).length),M(e)},openModal:k,closeModal:function(e){I(e)}}),r.a.createElement(v.a,{path:"/basket/",exact:!0,render:function(){return r.a.createElement(g,{removeBasketItem:F,basketItem:J})}}))))};a(390);c.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.c273d42c.chunk.js.map